<div class="bd">
    <div class="wrapper">
        <h1>{{product.title}}</h1>
        <h2>{{product.category}}</h2>
        <img class="img-cuadrada" src="{{product.thumbnail}}" alt="Img not found">
        <a class="btn" onclick="addToCart('{{product._id}}','{{user.cart}}')">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart4" viewBox="0 0 16 16">
                <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5M3.14 5l.5 2H5V5zM6 5v2h2V5zm3 0v2h2V5zm3 0v2h1.36l.5-2zm1.11 3H12v2h.61zM11 8H9v2h2zM8 8H6v2h2zM5 8H3.89l.5 2H5zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0m9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0"/>
            </svg>
            Add
        </a>
        <a href="/products">
            <button class="btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bag-check" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
                <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"/>
            </svg>
                Products
            </button>
        </a>
    </div>
    <div class="wrapper">
        <div class="data-box">
            <a>ID</a>
            <p>{{product._id}}</p>
            <a>Description</a>
            <p>{{product.description}}</p>
            <a>Price</a>
            <p>$ {{product.price}}</p>
            <a>Stock</a>
            <p>{{product.stock}}</p>
        </div>
    </div>
</div> 

<script>
    async function addToCart(pid,cid) {
        const url = `/api/carts/${cid}/product/${pid}`;
        try {
            const response = await fetch(url, {
                method: 'POST'
            });

            if (response.ok) {
                const data = await response.json();
                console.log('Product added:', data);
                alert('Product added');
            } else {
                throw new Error('Error ');
            }
        } catch (error) {
            console.error('Error:', error);
            alert('Error to add product');
        }
    }
</script>

<style>
    .bd {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background-image: url("/images/carritowebp.jpg");
        background-size: cover;
        background-position: center;
    }
    .wrapper {
        width: 620px;
        height: 820px;
        background: transparent;
        border: 2px solid rgba(255, 255, 255, .2);
        backdrop-filter: blur(20px);
        box-shadow: 0 0 10px rgba(0, 0, 0, .2);
        color: #fff;
        border-radius: 10px;
        padding: 30px 60px;
        margin-left: 5px;
    }

    .wrapper h1 {
        font-size: 36px;
        text-align: center;
    }
    .wrapper h2 {
        font-size: 26px;
    }
    .wrapper .data-box {
        position: relative;
        width: 100%;
        height: auto;
        margin: 30px 0;
    }
    .data-box p{
        width: 100%;
        background: transparent;
        border: none;
        outline: none;
        border: 0.5px solid rgba(255, 255, 255, .2);
        border-radius: 40px;
        text-align: center;
        color: #fff;
        padding: 10px;
        margin-bottom: 5px;
        font-weight: 600;
    }
    .wrapper .btn {
        width: 100%;
        background: #fff;
        border: none;
        outline: none;
        border-radius: 40px;
        box-shadow: 0 0 2px rgba(0, 0, 0, .1);
        cursor: pointer;
        font-size: 16px;
        color: #333;
        font-weight: 600;
        text-align: center;
        display: block;
        padding: 10px;
        text-decoration: none;
        margin-top: 15px;
    }
    .wrapper a{
        text-decoration: none;
    }

    .wrapper .img-cuadrada {
        border: 2px solid rgba(255, 255, 255, .2);
        width: 350px;
        height: 350px;
        object-fit: cover;
        backdrop-filter: blur(20px);
        margin-bottom: 20px;
        margin-top: 15px;
    }
</style>
